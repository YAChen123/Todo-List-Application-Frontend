{"ast":null,"code":"var _jsxFileName = \"/Users/andychen/Projects/Todo-List-Application-Frontend/src/components/ToDoCard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport { useGlobalContext } from \"../context/GlobalContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction ToDoCard(_ref) {\n  _s();\n  let {\n    toDo\n  } = _ref;\n  const [title, setTitle] = useState(toDo.title);\n  const [editing, setEditing] = useState(false);\n  const input = useRef(null);\n  const {\n    toDoComplete,\n    toDoIncomplete,\n    removeToDo,\n    updateToDo\n  } = useGlobalContext();\n  const onEdit = e => {\n    e.preventDefault();\n    setEditing(true);\n    input.current.focus();\n  };\n  const stopEditing = e => {\n    if (e) {\n      e.preventDefault();\n    }\n    setEditing(false);\n    setTitle(toDo.title);\n  };\n  const markAsComplete = e => {\n    e.preventDefault();\n    const updatedToDo = {\n      ...toDo,\n      isCompleted: true\n    };\n    const token = localStorage.getItem(\"token\");\n    const api = axios.create({\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    api.put(`/api/tasks/task/complete`, updatedToDo).then(res => {\n      toDoComplete(res.data);\n    });\n  };\n  const markAsIncomplete = e => {\n    e.preventDefault();\n    const updatedToDo = {\n      ...toDo,\n      isCompleted: false\n    };\n    const token = localStorage.getItem(\"token\");\n    const api = axios.create({\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    api.put(`/api/tasks/task/incomplete`, updatedToDo).then(res => {\n      toDoIncomplete(res.data);\n    });\n  };\n  const deleteToDo = e => {\n    e.preventDefault();\n    const token = localStorage.getItem(\"token\");\n    const api = axios.create({\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    if (window.confirm(\"Are you sure you want to delete this Todo?\")) api.delete(`/api/tasks/task/${toDo.uuid}/delete`).then(() => {\n      removeToDo(toDo);\n    });\n  };\n  const editToDo = e => {\n    e.preventDefault();\n    const updatedToDo = {\n      ...toDo,\n      title: title\n    };\n    const token = localStorage.getItem(\"token\");\n    const api = axios.create({\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    api.put(\"/api/tasks/task/edit\", updatedToDo).then(res => {\n      updateToDo(res.data);\n      setEditing(false);\n    }).catch(err => {\n      console.log(err);\n      stopEditing();\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `todo ${toDo.completed ? \"todo--complete\" : \"\"}`,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"checkbox\",\n      checked: toDo.completed,\n      onChange: !toDo.completed ? markAsComplete : markAsIncomplete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      ref: input,\n      value: title,\n      readOnly: !editing,\n      onChange: e => setTitle(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"todo__controls\",\n      children: !editing ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [!toDo.completed && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onEdit,\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: deleteToDo,\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: stopEditing,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: editToDo,\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n}\n_s(ToDoCard, \"rrPs38heiTa2L0SkLk6T2T633tE=\", false, function () {\n  return [useGlobalContext];\n});\n_c = ToDoCard;\nexport default ToDoCard;\nvar _c;\n$RefreshReg$(_c, \"ToDoCard\");","map":{"version":3,"names":["React","useState","useRef","axios","useGlobalContext","jsxDEV","_jsxDEV","Fragment","_Fragment","ToDoCard","_ref","_s","toDo","title","setTitle","editing","setEditing","input","toDoComplete","toDoIncomplete","removeToDo","updateToDo","onEdit","e","preventDefault","current","focus","stopEditing","markAsComplete","updatedToDo","isCompleted","token","localStorage","getItem","api","create","headers","Authorization","put","then","res","data","markAsIncomplete","deleteToDo","window","confirm","delete","uuid","editToDo","catch","err","console","log","className","completed","children","type","checked","onChange","fileName","_jsxFileName","lineNumber","columnNumber","ref","value","readOnly","target","onClick","_c","$RefreshReg$"],"sources":["/Users/andychen/Projects/Todo-List-Application-Frontend/src/components/ToDoCard.js"],"sourcesContent":["import React, { useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport { useGlobalContext } from \"../context/GlobalContext\";\n\nfunction ToDoCard({ toDo }) {\n  const [title, setTitle] = useState(toDo.title);\n  const [editing, setEditing] = useState(false);\n  const input = useRef(null);\n  const { toDoComplete, toDoIncomplete, removeToDo, updateToDo } =\n    useGlobalContext();\n\n  const onEdit = (e) => {\n    e.preventDefault();\n    setEditing(true);\n    input.current.focus();\n  };\n\n  const stopEditing = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n\n    setEditing(false);\n    setTitle(toDo.title);\n  };\n\n  const markAsComplete = (e) => {\n    e.preventDefault();\n    const updatedToDo = { ...toDo, isCompleted: true };\n    const token = localStorage.getItem(\"token\");\n    const api = axios.create({\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    api.put(`/api/tasks/task/complete`, updatedToDo).then((res) => {\n      toDoComplete(res.data);\n    });\n  };\n\n  const markAsIncomplete = (e) => {\n    e.preventDefault();\n    const updatedToDo = { ...toDo, isCompleted: false };\n    const token = localStorage.getItem(\"token\");\n    const api = axios.create({\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    api.put(`/api/tasks/task/incomplete`, updatedToDo).then((res) => {\n      toDoIncomplete(res.data);\n    });\n  };\n\n  const deleteToDo = (e) => {\n    e.preventDefault();\n\n    const token = localStorage.getItem(\"token\");\n    const api = axios.create({\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n\n    if (window.confirm(\"Are you sure you want to delete this Todo?\"))\n      api.delete(`/api/tasks/task/${toDo.uuid}/delete`).then(() => {\n        removeToDo(toDo);\n      });\n  };\n\n  const editToDo = (e) => {\n    e.preventDefault();\n    const updatedToDo = { ...toDo, title: title };\n    const token = localStorage.getItem(\"token\");\n    const api = axios.create({\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    api\n      .put(\"/api/tasks/task/edit\", updatedToDo)\n      .then((res) => {\n        updateToDo(res.data);\n        setEditing(false);\n      })\n      .catch((err) => {\n        console.log(err)\n        stopEditing();\n      });\n  };\n\n  return (\n    <div className={`todo ${toDo.completed ? \"todo--complete\" : \"\"}`}>\n      <input\n        type=\"checkbox\"\n        checked={toDo.completed}\n        onChange={!toDo.completed ? markAsComplete : markAsIncomplete}\n      />\n      <input\n        type=\"text\"\n        ref={input}\n        value={title}\n        readOnly={!editing}\n        onChange={(e) => setTitle(e.target.value)}\n      />\n      <div className=\"todo__controls\">\n        {!editing ? (\n          <>\n            {!toDo.completed && <button onClick={onEdit}>Edit</button>}\n            <button onClick={deleteToDo}>Delete</button>\n          </>\n        ) : (\n          <>\n            <button onClick={stopEditing}>Cancel</button>\n            <button onClick={editToDo}>Save</button>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default ToDoCard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}