{"ast":null,"code":"import _objectSpread from\"/Users/andychen/Projects/Todo-List-Application-dev/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/andychen/Projects/Todo-List-Application-dev/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useRef}from\"react\";import axios from\"axios\";import{useGlobalContext}from\"../context/GlobalContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ToDoCard(_ref){var toDo=_ref.toDo;var _useState=useState(toDo.title),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),editing=_useState4[0],setEditing=_useState4[1];var input=useRef(null);var _useGlobalContext=useGlobalContext(),toDoComplete=_useGlobalContext.toDoComplete,toDoIncomplete=_useGlobalContext.toDoIncomplete,removeToDo=_useGlobalContext.removeToDo,updateToDo=_useGlobalContext.updateToDo;var onEdit=function onEdit(e){e.preventDefault();setEditing(true);input.current.focus();};var stopEditing=function stopEditing(e){if(e){e.preventDefault();}setEditing(false);setTitle(toDo.title);};var markAsComplete=function markAsComplete(e){e.preventDefault();var updatedToDo=_objectSpread(_objectSpread({},toDo),{},{isCompleted:true});var token=localStorage.getItem(\"token\");var api=axios.create({headers:{Authorization:\"Bearer \".concat(token)}});api.put(\"/api/tasks/task/complete\",updatedToDo).then(function(res){toDoComplete(res.data);});};var markAsIncomplete=function markAsIncomplete(e){e.preventDefault();var updatedToDo=_objectSpread(_objectSpread({},toDo),{},{isCompleted:false});var token=localStorage.getItem(\"token\");var api=axios.create({headers:{Authorization:\"Bearer \".concat(token)}});api.put(\"/api/tasks/task/incomplete\",updatedToDo).then(function(res){toDoIncomplete(res.data);});};var deleteToDo=function deleteToDo(e){e.preventDefault();var token=localStorage.getItem(\"token\");var api=axios.create({headers:{Authorization:\"Bearer \".concat(token)}});if(window.confirm(\"Are you sure you want to delete this Todo?\"))api.delete(\"/api/tasks/task/\".concat(toDo.uuid,\"/delete\")).then(function(){removeToDo(toDo);});};var editToDo=function editToDo(e){e.preventDefault();var updatedToDo=_objectSpread(_objectSpread({},toDo),{},{title:title});var token=localStorage.getItem(\"token\");var api=axios.create({headers:{Authorization:\"Bearer \".concat(token)}});api.put(\"/api/tasks/task/edit\",updatedToDo).then(function(res){updateToDo(res.data);setEditing(false);}).catch(function(err){console.log(err);stopEditing();});};return/*#__PURE__*/_jsxs(\"div\",{className:\"todo \".concat(toDo.completed?\"todo--complete\":\"\"),children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:toDo.completed,onChange:!toDo.completed?markAsComplete:markAsIncomplete}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",ref:input,value:title,readOnly:!editing,onChange:function onChange(e){return setTitle(e.target.value);}}),/*#__PURE__*/_jsx(\"div\",{className:\"todo__controls\",children:!editing?/*#__PURE__*/_jsxs(_Fragment,{children:[!toDo.completed&&/*#__PURE__*/_jsx(\"button\",{onClick:onEdit,children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:deleteToDo,children:\"Delete\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:stopEditing,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:editToDo,children:\"Save\"})]})})]});}export default ToDoCard;","map":{"version":3,"names":["React","useState","useRef","axios","useGlobalContext","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ToDoCard","_ref","toDo","_useState","title","_useState2","_slicedToArray","setTitle","_useState3","_useState4","editing","setEditing","input","_useGlobalContext","toDoComplete","toDoIncomplete","removeToDo","updateToDo","onEdit","e","preventDefault","current","focus","stopEditing","markAsComplete","updatedToDo","_objectSpread","isCompleted","token","localStorage","getItem","api","create","headers","Authorization","concat","put","then","res","data","markAsIncomplete","deleteToDo","window","confirm","delete","uuid","editToDo","catch","err","console","log","className","completed","children","type","checked","onChange","ref","value","readOnly","target","onClick"],"sources":["/Users/andychen/Projects/Todo-List-Application-dev/frontend/src/components/ToDoCard.js"],"sourcesContent":["import React, { useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport { useGlobalContext } from \"../context/GlobalContext\";\n\nfunction ToDoCard({ toDo }) {\n  const [title, setTitle] = useState(toDo.title);\n  const [editing, setEditing] = useState(false);\n  const input = useRef(null);\n  const { toDoComplete, toDoIncomplete, removeToDo, updateToDo } =\n    useGlobalContext();\n\n  const onEdit = (e) => {\n    e.preventDefault();\n    setEditing(true);\n    input.current.focus();\n  };\n\n  const stopEditing = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n\n    setEditing(false);\n    setTitle(toDo.title);\n  };\n\n  const markAsComplete = (e) => {\n    e.preventDefault();\n    const updatedToDo = { ...toDo, isCompleted: true };\n    const token = localStorage.getItem(\"token\");\n    const api = axios.create({\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    api.put(`/api/tasks/task/complete`, updatedToDo).then((res) => {\n      toDoComplete(res.data);\n    });\n  };\n\n  const markAsIncomplete = (e) => {\n    e.preventDefault();\n    const updatedToDo = { ...toDo, isCompleted: false };\n    const token = localStorage.getItem(\"token\");\n    const api = axios.create({\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    api.put(`/api/tasks/task/incomplete`, updatedToDo).then((res) => {\n      toDoIncomplete(res.data);\n    });\n  };\n\n  const deleteToDo = (e) => {\n    e.preventDefault();\n\n    const token = localStorage.getItem(\"token\");\n    const api = axios.create({\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n\n    if (window.confirm(\"Are you sure you want to delete this Todo?\"))\n      api.delete(`/api/tasks/task/${toDo.uuid}/delete`).then(() => {\n        removeToDo(toDo);\n      });\n  };\n\n  const editToDo = (e) => {\n    e.preventDefault();\n    const updatedToDo = { ...toDo, title: title };\n    const token = localStorage.getItem(\"token\");\n    const api = axios.create({\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    api\n      .put(\"/api/tasks/task/edit\", updatedToDo)\n      .then((res) => {\n        updateToDo(res.data);\n        setEditing(false);\n      })\n      .catch((err) => {\n        console.log(err)\n        stopEditing();\n      });\n  };\n\n  return (\n    <div className={`todo ${toDo.completed ? \"todo--complete\" : \"\"}`}>\n      <input\n        type=\"checkbox\"\n        checked={toDo.completed}\n        onChange={!toDo.completed ? markAsComplete : markAsIncomplete}\n      />\n      <input\n        type=\"text\"\n        ref={input}\n        value={title}\n        readOnly={!editing}\n        onChange={(e) => setTitle(e.target.value)}\n      />\n      <div className=\"todo__controls\">\n        {!editing ? (\n          <>\n            {!toDo.completed && <button onClick={onEdit}>Edit</button>}\n            <button onClick={deleteToDo}>Delete</button>\n          </>\n        ) : (\n          <>\n            <button onClick={stopEditing}>Cancel</button>\n            <button onClick={editToDo}>Save</button>\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default ToDoCard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}